import requests
import sys

#py3 Vulnerabilityscan.py 'filename'
filename = sys.argv[1]

url_list=[]


#读取开放888端口的IP地址
for i in open(filename):
    #处理无效字符
    i = i.replace('\n','')
    #拼接url
    url='http://'+i+'/pma'
    #添加url到数组
    url_list.append(url)

m=0
#扫描并输出存在漏洞的url
for i in url_list:
    m+=1
    j=requests.get(i)

    #判断响应状态码是否为200
    if j.status_code == requests.codes.ok:
        print (m,': ',i,'',requests.codes.ok)
    print(m,'/',len(url_list))

